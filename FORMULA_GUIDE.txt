Руководство по формулам TypeMagic

Основные правила

1. Подстановка параметров
Используйте квадратные скобки [ИмяПараметра] для вставки значений параметров типа семейства.

Примеры:
[Материал] → "Бетон"
Балка_[Длина]_[Ширина] → "Балка_3000_300"

2. Модификаторы значений
После имени параметра можно применить модификаторы через символ |.
Арифметические операции:
/число — деление: [Длина|/10] → 3000мм → "300"
 *число — умножение: [Толщина|*2] → 100мм → "200"
Округление:
 round — округление до целого: [Длина|/10|round] → "300"
 round:N — округление до N знаков: [Цена|round:2] → "1234.56"
Текст:
 upper — в верхний регистр: [Материал|upper] → "БЕТОН"
 lower — в нижний регистр: [Тип|lower] → "колонна"

Примеры комбинаций:
[Длина|/10|round]см → "300см"
[Материал|upper]_[Толщина|*2] → "БЕТОН_200"

3. Условные выражения
Используйте фигурные скобки {условие}→результат для условной логики.
Логические операторы:
 AND — логическое И
 OR — логическое ИЛИ
 NOT — логическое НЕ

Примеры:
 {[Гор.стержни]}→[Материал] → если параметр "Гор.стержни" = true, подставляется материал
 {[Несущая] AND [Толщина]}→Несущая_ → "Несущая_" если оба параметра истинны
 {NOT [Скрытая]}→[Имя] → имя показывается только если элемент не скрыт

4. Полные примеры формул
Простая формула:
[Материал]_[Длина|/10|round]см
Результат: "Бетон_300см"
С условием:
{[Гор.стержни]}→[Материал]_[Длина|/10|round]см
Результат: "Бетон_300см" (если Гор.стержни = true)
Сложная формула:
{[Несущая]}→Н_[Материал|upper]_{NOT [Внутренняя]}→Наруж_[Толщина]мм
Результат: "Н_БЕТОН_Наруж_200мм"
Важные замечания
1. Длина параметров: Параметры типа "Длина" автоматически преобразуются из футов в миллиметры
2. Максимальная длина имени: Не более 128 символов
3. Недопустимые символы: Избегайте < > : " / \ | ? * в результирующих именах
4. Порядок обработки: Сначала условия, затем подстановка параметров, затем модификаторы

